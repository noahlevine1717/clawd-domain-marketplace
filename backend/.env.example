# Clawd Domain Marketplace - Backend Configuration
# Copy this file to .env and fill in your values

# ============================================
# PORKBUN API CREDENTIALS (REQUIRED)
# ============================================
# Get these from: https://porkbun.com/account/api
# 1. Log into Porkbun
# 2. Go to Account > API Access
# 3. Create new API key pair
PORKBUN_API_KEY=pk1_your_api_key_here
PORKBUN_SECRET=sk1_your_secret_key_here

# Use sandbox for testing (optional - set to true for testing)
PORKBUN_SANDBOX=false

# ============================================
# PAYMENT CONFIGURATION (REQUIRED)
# ============================================
# Your wallet address that will receive USDC payments
# This should be a wallet you control on Base network
# IMPORTANT: Must be EIP-55 checksummed! Get correct format with:
#   node -e "const{ethers}=require('ethers');console.log(ethers.getAddress('0xYOUR_ADDRESS'.toLowerCase()))"
TREASURY_ADDRESS=0xYourWalletAddressHere

# Base network RPC endpoint (default works, but you can use your own)
BASE_RPC_URL=https://mainnet.base.org

# ============================================
# EIP-3009 RELAYER (REQUIRED FOR PRODUCTION)
# ============================================
# The relayer executes transferWithAuthorization on behalf of users
# This enables gasless payments - users only need USDC, not ETH
#
# Generate a new wallet for the relayer:
#   node -e "const w = require('ethers').Wallet.createRandom(); console.log('Address:', w.address, '\nPrivate Key:', w.privateKey)"
#
# Fund the relayer wallet with ~0.01 ETH on Base (enough for 100+ transactions)
# The relayer only pays gas - USDC goes directly from payer to treasury
RELAYER_PRIVATE_KEY=0xYourRelayerPrivateKeyHere

# NOTE FOR USERS (clawd-wallet):
# Users only need USDC on Base network for domain purchases (~$5-80 depending on TLD)
# No ETH required! The relayer pays gas fees on their behalf.

# ============================================
# DEFAULT REGISTRANT INFO
# ============================================
# This is used when customers don't provide their own info
# For production, you may want to require customer info
REGISTRANT_FIRST_NAME=Demo
REGISTRANT_LAST_NAME=User
REGISTRANT_EMAIL=demo@example.com
REGISTRANT_PHONE=+1.5551234567
REGISTRANT_ADDRESS=123 Demo Street
REGISTRANT_CITY=San Francisco
REGISTRANT_STATE=CA
REGISTRANT_ZIP=94102
REGISTRANT_COUNTRY=US

# ============================================
# SERVER SETTINGS
# ============================================
HOST=0.0.0.0
PORT=8402

# Environment (development or production)
ENVIRONMENT=development

# CORS - comma-separated list of allowed origins
# For production, set to your frontend URL
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8402

# ============================================
# DATABASE
# ============================================
# SQLite for development, PostgreSQL for production
# For PostgreSQL: postgresql://user:pass@host:5432/dbname
DATABASE_URL=sqlite:///./clawd_domains.db

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_SEARCH=20/minute
RATE_LIMIT_PURCHASE=10/minute
RATE_LIMIT_DNS=30/minute

# ============================================
# DEVELOPMENT OPTIONS (DANGER!)
# ============================================
# Skip payment verification - ONLY for testing!
# NEVER enable in production - allows free domain registration
SKIP_PAYMENT_VERIFICATION=false

# Public URL for x402 callbacks (set to ngrok URL for local dev)
# For production, set to your actual domain
PUBLIC_URL=http://localhost:8402
